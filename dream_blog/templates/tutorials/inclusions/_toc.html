{# Table of contents for tutorials #}
{# Design intent: Clear chapter navigation with active state highlight #}
<div class="toc">
  {# Tutorial title as clickable header #}
  <h3 class="text-sm font-semibold text-slate-900 dark:text-slate-100 mb-3">
    <a href="{{ tutorial.get_absolute_url }}"
       class="hover:text-cyan-600 dark:hover:text-cyan-400 transition-colors">
      {{ tutorial.title }}
    </a>
  </h3>

  {# Chapter list with active state #}
  <ul class="space-y-0.5 max-h-[calc(100vh-20rem)] scrollbar-thin overflow-y-auto overflow-x-hidden">
    {% for material in materials %}
      <li>
        <a href="{% url 'tutorials:material_detail' tutorial.slug material.id %}"
           class="{% if material.id == current.id %}toc-item--active{% else %}toc-item{% endif %}">
          {# Chapter number indicator #}
          <span class="text-xs text-slate-400 dark:text-slate-500 mr-1.5">{{ forloop.counter }}.</span>
          {{ material.title }}
        </a>
      </li>
    {% endfor %}
  </ul>
</div>
