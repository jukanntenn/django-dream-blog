{# Comment form with enhanced styling and focus states #}
{# Design intent: Clean form layout with visual feedback on interactions #}
<form action="{% url "comments:post" %}" method="post" class="comment-form">
    {% csrf_token %}
    {% for hidden in form.hidden_fields %}{{ hidden }}{% endfor %}
    <div class="flex gap-3">
        {# User avatar with refined styling #}
        <div class="shrink-0">
            <img class="comment-avatar"
                 alt="{{ user.name|default:'User' }}"
                 src="{{ user.social_avatar_url }}" />
        </div>
        <div class="min-w-0 flex-1">
            {# Textarea with enhanced focus ring and placeholder #}
            <textarea rows="4"
                      class="textarea"
                      name="{{ form.comment.html_name }}"
                      id="{{ form.comment.id_for_label }}"
                      placeholder="留下你的评论..."
                      required></textarea>
            <div class="mt-3 flex items-center justify-between">
                {# Markdown hint with official Markdown logo #}
                <div class="flex items-center gap-1.5 text-slate-500 dark:text-slate-400">
                    <svg class="w-4 h-4" viewBox="0 0 208 128" fill="currentColor">
                        <path d="M30 128V0h30l26 48 26-48h30v128h-30V56l-26 48-26-48v72H30zm128 0V0h30v128h-30z"/>
                    </svg>
                    <span class="text-xs">支持 Markdown 语法</span>
                </div>
                {# Submit button with primary styling #}
                <button class="btn--primary btn--sm" type="submit">
                    提交评论
                </button>
            </div>
        </div>
    </div>
</form>
