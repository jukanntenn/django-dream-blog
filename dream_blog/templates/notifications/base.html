{% load notifications_tags %}
<div class="flex items-start gap-3">
  <div class="flex-shrink-0">
    <div class="w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center">
      {% if actor.social_avatar_url %}
        <img src="{{ actor.social_avatar_url }}" alt="" class="w-10 h-10 rounded-full object-cover">
      {% else %}
        <span class="text-slate-500 dark:text-slate-400 text-sm">{{ actor.name|slice:":1"|default:"?" }}</span>
      {% endif %}
    </div>
  </div>
  <div class="flex-1 min-w-0">
    {% block header %}{% endblock %}
    <div class="mt-1 text-xs text-slate-500 dark:text-slate-400 flex items-center gap-2">
      <time>{{ notification.timestamp|date:'Y-m-d H:i' }}</time>
      {% if notification.unread %}
        <a class="text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300"
           href="{% url 'notifications:mark_as_read' notification.slug %}?next={{ request.path }}{% if request.META.QUERY_STRING %}&{{ request.META.QUERY_STRING }}{% endif %}">
          标为已读</a>
      {% endif %}
    </div>
  </div>
</div>
{% if target and target.comment_html %}
  <div class="mt-3 text-sm text-slate-600 dark:text-slate-400 prose prose-sm dark:prose-invert max-w-none">
    {{ target.comment_html|safe }}
  </div>
{% endif %}
